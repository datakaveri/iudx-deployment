name: Docker Image CI

on:
  registry_package:
    types: [published]

jobs:

  build:
    runs-on: self-hosted

    steps:
    - uses: actions/checkout@v3
    - name: Build the docker image
      run: |
        ls
        pwd
        git config --global user.name 'tharak1242'
        git config --global user.password ${{ secret.PAT }}
        git fetch
        git checkout workflow
        echo "test message 1" > a.txt
        git add a.txt
        git commit -m "added test file"
        git push --set-upstream origin workflow
