version: '3.9'
services:
  clickhouse-server-1:
    deploy:
      resources:
        limits:
          cpus: '6'
          memory: 16G
        reservations:
          cpus: '4'
          memory: 16G

  clickhouse-server-2:
    deploy:
      resources:
        limits:
          cpus: '6'
          memory: 16G
        reservations:
          cpus: '4'
          memory: 16G

  clickhouse-server-3:
    deploy:
      resources:
        limits:
          cpus: '6'
          memory: 16G
        reservations:
          cpus: '4'
          memory: 16G