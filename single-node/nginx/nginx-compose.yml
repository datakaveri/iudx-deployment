version: "3.4"

networks:
  overlay-net:
    external: true
    driver: overlay

services:

  nginx:
    image: nginx:stable-alpine
    ports:
      - target: 443
        published: 443
        mode: host
    volumes:
      - $PWD/conf/nginx.conf:/etc/nginx/nginx.conf:ro
      - $PWD/secrets/pki/https-certificate.pem:/home/rs-server/https-certificate.pem:ro
      - $PWD/secrets/pki/https-key.pem:/home/rs-server/https-key.pem:ro    
    networks:
      - overlay-net

