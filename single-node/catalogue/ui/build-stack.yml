version: "3.4"

networks:
  overlay-net:
    external: true
    driver: overlay

services:
   build-cat-ui:
     image: abhiurn/cat-ui:latest
     deploy:
       replicas: 1
       placement:
         constraints:
           - "node.labels.cat_nginx_node==true"
       restart_policy:
         condition: none
     volumes:
       - type: bind
         source: /usr/share/
         target: /mnt/
     networks:
       - overlay-net
